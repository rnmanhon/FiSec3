<navigation></navigation>

<div class="container">
    <page-header content="vm.pageHeader"></page-header>

    <div class="row">
        <div class="col-xs-12 col-sm-12">
            <div class="error">{{ vm.message }}</div>
        </div>


        <div class="panel-group" id="accordion">
            <!-- panel-group 1 -->
            <div class="panel panel-info" ng-repeat="user_role in vm.role_assignments">
                <!-- panel-info 1 -->
                <div class="panel-heading">
                    <!-- panel-heading 1 -->
                    <h4 class="panel-title">
                        <a  data-target="#collapse{{user_role.user_id}}" 
                        data-toggle="collapse" data-parent="#accordion" 
                        href="/#userRole"> 
                        {{ user_role.user_id }}
                        </a> 
      </h4>
                </div>
                <!-- panel-heading 1 -->
                <div id="collapse{{user_role.user_id}}" class="panel-collapse collapse">
                    <!-- collapse 1 -->
                    <div class="panel-body">
                        <!-- panel-body 1 -->



                        <div class="panel-group" id="accordion{{ user_role.user_id }}">
                            <!-- panel-group 2 -->
                            <div class="panel panel-default" ng-repeat="user_app in user_role.applications">
                                <!-- panel-info 2 -->
                                <div class="panel-heading">
                                    <!-- panel-heading 2 -->
                                    <h4 class="panel-title">
                        <a  data-target="#collapse{{user_role.user_id}}{{user_app.application_id}}" 
                        data-toggle="collapse" data-parent="#accordion{{ user_role.user_id }}" 
                        href="/#userRole"> 
                        {{ user_app.application_id }}
                        </a> 
      </h4>
                                </div>
                                <!-- panel-heading 2 -->
                                <div id="collapse{{user_role.user_id}}{{user_app.application_id}}" class="panel-collapse collapse">
                                    <!-- collapse 2 -->
                                    <div class="panel-body">
                                        <!-- panel-body 2 -->


                                        <div class="panel-group" id="accordion{{ user_app.application_id }}">
                                            <!-- panel-group 3 -->
                                            <div class="panel panel-sucess" ng-repeat="urole in user_app.roles">
                                                <!-- panel-info 3 -->
                                                <div class="panel-heading">
                                                    <!-- panel-heading 3 -->
                                                    <h4 class="panel-title">
                        <a  data-target="#collapse{{user_role.user_id}}{{user_app.application_id}}{{urole.role_id}}" 
                        data-toggle="collapse" data-parent="#accordion{{ user_app.application_id }}" 
                        href="/#userRole"> 
                        {{ urole.role_id }}
                        </a> 
      </h4>
                                                </div>
                                                <!-- panel-heading 3 -->
                                                <div id="collapse{{user_role.user_id}}{{user_app.application_id}}{{urole.role_id}}" class="panel-collapse collapse">
                                                    <!-- collapse 3 -->
                                                    <div class="panel-body">
                                                        <!-- panel-body 3 -->




                                                        <li> organization id: {{ urole.organization_id }} </li>
                                                        <li> application id: {{ urole.application_id }} </li>
                                                        <li> user id: {{ urole.user_id }} </li>
                                                        <li> role id: {{ urole.role_id }} </li>

                                                    </div>
                                                    <!-- panel-body 3 -->
                                                </div>
                                                <!-- collapse 3 -->
                                            </div>
                                            <!-- panel-info 3 -->
                                        </div>
                                        <!-- panel-group 3 -->



                                    </div>
                                    <!-- panel-body 2 -->
                                </div>
                                <!-- collapse 2 -->
                            </div>
                            <!-- panel-info 2 -->
                        </div>
                        <!-- panel-group 2 -->





                    </div>
                    <!-- panel-body 1 -->
                </div>
                <!-- collapse 1 -->
            </div>
            <!-- panel-info 1 -->
        </div>
        <!-- panel-group 1 -->

        <div class="col-xs-12 col-sm-12" role="group">
            <!--            <button type="button" class="btn btn-info btn-space" ng-click="vm.onRefresh()" ng-disabled="vm.loginToken == undefined">-->
            <button type="button" class="btn btn-info btn-space" ng-click="vm.onRefresh()">

                Refresh from Keystoone
            </button>
        </div>

        <div class="row">
            <div class="col-xs-12"><small class="pull-left">current user token: {{vm.loginToken}}</small></div>
        </div>

        <footer-generic></footer-generic>
    </div>